<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <title>Digital Love Letter - For Maryam ‚ù§Ô∏è</title>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;600;700&family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-4Q6Gf2aSP4eDXB8Miphtr37CMZZQ5oXLH2yaXMJ2w8e2ZtHTl7GptT4jmndRuHDT" crossorigin="anonymous">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 25%, #0f3460 50%, #533483 75%, #1a1a2e 100%);
            background-size: 400% 400%;
            animation: gradientShift 20s ease infinite;
            min-height: 100vh;
            min-height: -webkit-fill-available;
            overflow-x: hidden;
            font-family: 'Dancing Script', cursive;
            position: relative;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            touch-action: manipulation;
            display: flex;
            flex-direction: column;
            padding: 20px;
        }

        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .container {
            position: relative;
            z-index: 10;
            padding: 80px 20px 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            min-height: -webkit-fill-available;
            width: 100%;
            box-sizing: border-box;
            max-width: 900px;
            margin: 0 auto;
        }

        .letter-container {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border-radius: 30px;
            border: 2px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 25px 80px rgba(0, 0, 0, 0.4),
                        0 0 0 1px rgba(255, 255, 255, 0.1) inset;
            padding: 60px 50px;
            width: 100%;
            margin: 0;
            animation: fadeInUp 1s ease-out;
            position: relative;
            overflow: hidden;
            word-wrap: break-word;
            overflow-wrap: break-word;
            box-sizing: border-box;
        }

        .letter-container::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255, 255, 255, 0.05) 0%, transparent 70%);
            animation: rotate 30s linear infinite;
            pointer-events: none;
        }

        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(40px) scale(0.95);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        .letter-content {
            position: relative;
            z-index: 1;
            width: 100%;
            box-sizing: border-box;
        }

        .letter-header {
            text-align: center;
            margin-bottom: 40px;
            padding-bottom: 20px;
            border-bottom: 2px solid rgba(255, 255, 255, 0.2);
        }

        .letter-title {
            font-size: 3rem;
            font-weight: 700;
            background: linear-gradient(135deg, #ff6b9d 0%, #c44569 50%, #ffd700 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 15px;
            text-shadow: 0 0 30px rgba(255, 107, 157, 0.3);
            animation: textShimmer 3s ease-in-out infinite;
            font-family: 'Dancing Script', cursive;
        }

        @keyframes textShimmer {
            0%, 100% {
                filter: brightness(1);
            }
            50% {
                filter: brightness(1.2);
            }
        }

        .letter-date {
            font-size: 1.2rem;
            color: rgba(255, 255, 255, 0.7);
            font-family: 'Poppins', sans-serif;
            font-style: italic;
        }

        .letter-body {
            font-size: 1.5rem;
            color: rgba(255, 255, 255, 0.95);
            line-height: 2;
            font-weight: 400;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
            min-height: 400px;
            padding: 20px 0;
        }

        .typewriter-text {
            white-space: pre-wrap;
            word-wrap: break-word;
            overflow-wrap: break-word;
        }

        .cursor {
            display: inline-block;
            width: 3px;
            height: 1.5rem;
            background: rgba(255, 255, 255, 0.9);
            margin-left: 4px;
            animation: blink 1s infinite;
            vertical-align: middle;
        }

        @keyframes blink {
            0%, 50% { opacity: 1; }
            51%, 100% { opacity: 0; }
        }

        .music-control {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 50px;
            padding: 12px 24px;
            display: flex;
            align-items: center;
            gap: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
        }

        .music-control:hover {
            background: rgba(255, 255, 255, 0.25);
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(255, 105, 180, 0.4);
        }

        .music-control:active {
            transform: translateY(0);
        }

        .music-icon {
            font-size: 1.2rem;
            color: rgba(255, 255, 255, 0.95);
        }

        .music-label {
            font-size: 0.95rem;
            color: rgba(255, 255, 255, 0.95);
            font-weight: 600;
            font-family: 'Poppins', sans-serif;
        }

        .music-control.playing .music-icon::before {
            content: 'üîä';
        }

        .music-control:not(.playing) .music-icon::before {
            content: 'üîá';
        }

        .back-button {
            position: fixed;
            top: 20px;
            left: 20px;
            z-index: 1000;
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 50px;
            padding: 12px 24px;
            font-size: 1rem;
            font-weight: 600;
            color: rgba(255, 255, 255, 0.95);
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            font-family: 'Poppins', sans-serif;
        }

        .back-button:hover {
            background: rgba(255, 255, 255, 0.25);
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(255, 105, 180, 0.4);
            color: rgba(255, 255, 255, 1);
            border-color: rgba(255, 255, 255, 0.5);
        }

        .back-button:active {
            transform: translateY(0);
        }

        .stars {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }

        .star {
            position: absolute;
            width: 2px;
            height: 2px;
            background: white;
            border-radius: 50%;
            animation: twinkle 3s ease-in-out infinite;
        }

        @keyframes twinkle {
            0%, 100% {
                opacity: 0.3;
                transform: scale(1);
            }
            50% {
                opacity: 1;
                transform: scale(1.5);
            }
        }

        .hearts {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 2;
        }

        .heart {
            position: absolute;
            font-size: 20px;
            color: rgba(255, 182, 193, 0.6);
            animation: float 15s infinite;
            text-shadow: 0 0 10px rgba(255, 182, 193, 0.5);
        }

        @keyframes float {
            0% {
                transform: translateY(100vh) rotate(0deg) scale(0.5);
                opacity: 0;
            }
            10% {
                opacity: 1;
            }
            90% {
                opacity: 1;
            }
            100% {
                transform: translateY(-100px) rotate(360deg) scale(1.2);
                opacity: 0;
            }
        }

        .letter-signature {
            margin-top: 40px;
            text-align: right;
            font-size: 1.8rem;
            color: rgba(255, 255, 255, 0.9);
            font-style: italic;
            padding-top: 20px;
            border-top: 2px solid rgba(255, 255, 255, 0.2);
        }

        .signature-name {
            color: #ffd700;
            font-weight: 700;
            text-shadow: 0 0 20px rgba(255, 215, 0, 0.5);
        }

        @media (max-width: 768px) {
            body {
                padding: 15px;
            }

            .container {
                padding: 70px 15px 20px;
            }

            .letter-container {
                padding: 40px 30px;
            }

            .letter-title {
                font-size: 2rem;
            }

            .letter-body {
                font-size: 1.2rem;
                line-height: 1.8;
                min-height: 300px;
            }

            .letter-date {
                font-size: 1rem;
            }

            .letter-signature {
                font-size: 1.4rem;
                margin-top: 30px;
            }

            .music-control {
                top: 15px;
                right: 15px;
                padding: 10px 20px;
            }

            .music-label {
                font-size: 0.85rem;
            }

            .back-button {
                top: 15px;
                left: 15px;
                padding: 10px 20px;
                font-size: 0.9rem;
            }
        }

        @media (max-width: 480px) {
            .container {
                padding: 70px 10px 15px;
            }

            .letter-container {
                padding: 30px 20px;
            }

            .letter-title {
                font-size: 1.8rem;
                margin-bottom: 10px;
            }

            .letter-body {
                font-size: 1.1rem;
                line-height: 1.7;
                padding: 15px 0;
            }

            .letter-date {
                font-size: 0.9rem;
            }

            .letter-signature {
                font-size: 1.2rem;
                margin-top: 25px;
            }

            .music-control {
                top: 12px;
                right: 12px;
                padding: 8px 16px;
            }

            .music-label {
                display: none;
            }

            .back-button {
                top: 12px;
                left: 12px;
                padding: 8px 16px;
                font-size: 0.85rem;
            }
        }
    </style>
</head>

<body>
    <a href="index.html" class="back-button">‚Üê Back</a>
    
    <div class="music-control" id="musicControl">
        <span class="music-icon"></span>
        <span class="music-label">Music</span>
    </div>

    <audio id="backgroundMusic" loop>
        <source src="public/songs/playlists/period_mix/Daniel Caesar - Best Part (Audio) ft. H.E.R..mp3" type="audio/mpeg">
    </audio>

    <div class="stars" id="stars"></div>
    <div class="hearts" id="hearts"></div>

    <div class="container">
        <div class="letter-container">
            <div class="letter-content">
                <div class="letter-header">
                    <h1 class="letter-title">üíå A Letter For You üíå</h1>
                    <p class="letter-date">February 3rd, 2026</p>
                </div>
                
                <div class="letter-body" id="letterBody">
                    <span class="typewriter-text" id="typewriterText"></span>
                    <span class="cursor" id="cursor"></span>
                </div>

                <div class="letter-signature">
                    <p>With all my love,</p>
                    <p class="signature-name">Huzaifa ‚ù§Ô∏è</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Letter content with Maryam's name and inside jokes
        const letterContent = `My dearest Maryam,

I sit here tonight, thinking about you, and I can't help but smile. You have this incredible way of making even the ordinary moments feel extraordinary. 

Remember when we first met? I never imagined that someone so beautiful, inside and out, would come into my life and change everything. You're not just my girlfriend - you're my best friend, my confidant, and my favorite person in the entire world.

There are so many things I love about you, Maryam. Your laugh that can light up any room. The way you get excited about the little things. How you make me feel like I'm the most important person in your world, even when I'm being silly or making terrible jokes (which, let's be honest, happens more often than I'd like to admit).

I love our inside jokes - the ones that make us laugh even when no one else understands. I love how we can talk for hours about nothing and everything at the same time. I love how you challenge me to be better, to dream bigger, and to love deeper.

Every day with you feels like a gift. Every moment we share becomes a memory I treasure. You've shown me what it means to love unconditionally, to support someone through everything, and to find joy in the simplest of moments.

Maryam, you are my sunshine on cloudy days, my calm in the storm, and my home wherever we are. I fall in love with you more and more each day, and I can't wait to see what our future holds together.

Thank you for being you. Thank you for choosing me. Thank you for every smile, every laugh, every hug, and every moment we've shared.

I love you more than words can express, and I'm so grateful that you're mine.

Forever yours,`;

        // Typewriter effect
        let currentIndex = 0;
        let isTyping = true;
        const typewriterText = document.getElementById('typewriterText');
        const cursor = document.getElementById('cursor');

        function typeWriter() {
            if (currentIndex < letterContent.length && isTyping) {
                typewriterText.textContent = letterContent.substring(0, currentIndex + 1);
                currentIndex++;
                
                // Random delay between characters for more natural typing
                const delay = Math.random() * 50 + 30; // 30-80ms
                setTimeout(typeWriter, delay);
            } else {
                // Stop cursor blinking when done
                cursor.style.display = 'none';
            }
        }

        // Start typing when page loads
        window.addEventListener('load', () => {
            setTimeout(() => {
                typeWriter();
            }, 500);
        });

        // Music control
        const musicControl = document.getElementById('musicControl');
        const backgroundMusic = document.getElementById('backgroundMusic');
        let isPlaying = false;

        // Set volume to soft (30%)
        backgroundMusic.volume = 0.3;

        musicControl.addEventListener('click', () => {
            if (isPlaying) {
                backgroundMusic.pause();
                musicControl.classList.remove('playing');
                isPlaying = false;
            } else {
                backgroundMusic.play().catch(error => {
                    console.log('Autoplay prevented:', error);
                });
                musicControl.classList.add('playing');
                isPlaying = true;
            }
        });

        // Touch support for music control
        musicControl.addEventListener('touchend', (e) => {
            e.preventDefault();
            if (isPlaying) {
                backgroundMusic.pause();
                musicControl.classList.remove('playing');
                isPlaying = false;
            } else {
                backgroundMusic.play().catch(error => {
                    console.log('Autoplay prevented:', error);
                });
                musicControl.classList.add('playing');
                isPlaying = true;
            }
        });

        // Create stars
        function createStar() {
            const star = document.createElement('div');
            star.className = 'star';
            star.style.left = Math.random() * 100 + '%';
            star.style.top = Math.random() * 100 + '%';
            star.style.animationDelay = Math.random() * 3 + 's';
            star.style.animationDuration = (Math.random() * 2 + 2) + 's';
            document.getElementById('stars').appendChild(star);
        }

        // Create initial stars
        for (let i = 0; i < 100; i++) {
            createStar();
        }

        // Create floating hearts
        function createHeart() {
            const heart = document.createElement('div');
            heart.className = 'heart';
            const hearts = ['üíñ', 'üíï', '‚ù§Ô∏è', 'üíó', 'üíù'];
            heart.textContent = hearts[Math.floor(Math.random() * hearts.length)];
            heart.style.left = Math.random() * 100 + '%';
            heart.style.animationDuration = (Math.random() * 10 + 15) + 's';
            heart.style.animationDelay = Math.random() * 5 + 's';
            heart.style.fontSize = (Math.random() * 10 + 15) + 'px';
            document.getElementById('hearts').appendChild(heart);

            setTimeout(() => {
                heart.remove();
            }, 25000);
        }

        // Create hearts periodically
        setInterval(createHeart, 2000);

        // Initialize some hearts
        for (let i = 0; i < 10; i++) {
            setTimeout(() => createHeart(), i * 500);
        }
    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-j1CDi7MgGQ12Z7Qab0qlWQ/Qqz24Gc6BM0thvEMVjHnfYGF0rmFCozFSxQBxwHKO"
        crossorigin="anonymous"></script>
    <script src="auth.js"></script>
    <script>
        // Protect this page - redirect to login if not authenticated
        Auth.protectPage();
    </script>
</body>

</html>
